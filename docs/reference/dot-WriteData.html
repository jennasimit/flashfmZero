<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Write Java MCMC format data file — .WriteData • flashfmZero</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Write Java MCMC format data file — .WriteData"><meta property="og:description" content="Writes a data file in the format required for Java MCMC program"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flashfmZero</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/flashfmZero.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write Java MCMC format data file</h1>
    
    <div class="hidden name"><code>dot-WriteData.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Writes a data file in the format required for Java MCMC program</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">.WriteData</span><span class="op">(</span></span>
<span>  <span class="va">data.file</span>,</span>
<span>  <span class="va">likelihood</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  outcome.var <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  times.var <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  confounders <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  predictors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">model.space.priors</span>,</span>
<span>  beta.priors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  beta.prior.partitions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  g.prior <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  model.tau <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  tau <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xtx.ridge.term <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  enumerate.up.to.dim <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  n <span class="op">=</span> <span class="va">n</span>,</span>
<span>  xTx <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  z <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ns.each.ethnicity <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  initial.model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  trait.variance <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  logistic.likelihood.weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mrloss.w <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  mrloss.function <span class="op">=</span> <span class="st">"variance"</span>,</span>
<span>  mrloss.marginal.causal.effects <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mrloss.marginal.causal.effect.ses <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mafs.if.independent <span class="op">=</span> <span class="va">mafs.if.independent</span>,</span>
<span>  debug <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data.file</dt>
<dd><p>Desired path for .txt data file to be written to</p></dd>


<dt>likelihood</dt>
<dd><p>Type of model to fit. Current options are
"Logistic" (for binary data),
"CLogLog" complementary log-log link for binary data,
"Weibull" (for survival data),
"Linear" (for linear regression),
"LinearConj" (linear regression exploiting conjugate results),
"JAM" (for conjugate linear regression using summary statistics, integrating out parameters)
and "JAM_MCMC" (for linear regression using summary statistics, with full MCMC of all parameters).</p></dd>


<dt>data</dt>
<dd><p>Matrix or dataframe containing the data to analyse.
Rows are indiviuals, and columns contain the variables and outcome.
If modelling summary statistics specify X.ref, marginal.betas, and n instead (see below).</p></dd>


<dt>outcome.var</dt>
<dd><p>Name of outcome variable in data. For survival data see times.var below.
If modelling summary statistics with JAM this can be left null but you must specify X.ref, marginal.beats and n instead (see below).</p></dd>


<dt>times.var</dt>
<dd><p>SURVIVAL DATA ONLY Name of column in data which contains the event times.</p></dd>


<dt>confounders</dt>
<dd><p>Optional vector of confounders to fix in the model at all times, i.e. exclude from model selection.</p></dd>


<dt>predictors</dt>
<dd><p>predictors</p></dd>


<dt>model.space.priors</dt>
<dd><p>Must be specified if model.selection is set to TRUE.
Two options are available. 1) A fixed prior is placed on the proportion of causal
covariates, and all models with the same number of covariates is equally likely. This
is effectively a Poisson prior over the different possible model sizes. A list must
be supplied for <code>model.space.priors</code> with an element "Rate", specifying the prior
proportion of causal covariates, and an element "Variables" containing the list of covariates
included in the model search. 2) The prior proportion of causal covariates
is treated as unknown and given a Beta(a, b) hyper-prior, in which case
elements "a" and "b" must be included in the <code>model.space.priors</code> list rather
than "Rate". Higher values of "b" relative to "a" will encourage sparsity.
NOTE: It is easy to specify different model space priors for different collections of
covariates by providing a list of lists, each element of which is itself a model.space.prior
list asm described above for a particular subset of the covariates.</p></dd>


<dt>beta.priors</dt>
<dd><p>This allows specifying fixed (potentially informative) priors for the covariate
effect priors. A matrix must be passed, with named rows corresponding to parameters, and columns
corresponding to the prior mean and variance in that order. When using this option priors must
be specified for either just the confounders, which are otherwise given fixed N(0,1e6) priors,
or for all covariates.</p></dd>


<dt>beta.prior.partitions</dt>
<dd><p>Covariate effects under variable selection are ascribed, by default,
a common Normal prior, the standard deviation of which is treated as unknown,
with a Unif(0.05,2) hyper-prior. This option can be used to partition the covariate effects
into different prior groups, each with a seperate hierarchical normal prior. beta.prior.partitions
must be a list with as many elements as desired covariate groups. The element for a particular group
must in turn be a list containing the following named elements: "Variables" - a list of covariates
in the prior group, and "UniformA" and "UniformB" the Uniform hyper parameters for the standard
deviation of the normal prior across their effects.</p></dd>


<dt>g.prior</dt>
<dd><p>Whether to use a g-prior for the beta's, i.e. a multivariate normal
with correlation structure proportional to sigma^2*X'X^-1, which is thought to aid
variable selection in the presence of strong correlation. By default this is enabled.</p></dd>


<dt>model.tau</dt>
<dd><p>model.tau</p></dd>


<dt>tau</dt>
<dd><p>Value to use for sparsity parameter tau (under the tau*sigma^2 parameterisation).
When using the g-prior, a recommended default is max(n, P^2) where n is the number of individuals, and P is the number of predictors.</p></dd>


<dt>xtx.ridge.term</dt>
<dd><p>Value to add to the constant of the diagonal of X'X before JAM takes the Cholesky decomposition.</p></dd>


<dt>enumerate.up.to.dim</dt>
<dd><p>Whether to make posterior inference by exhaustively calculating
the posterior support for every possible model up to this dimension. Leaving at 0 to disable
and use RJMCMC instead. The current maximum allowed value is 5.</p></dd>


<dt>n</dt>
<dd><p>The size of the dataset in which the summary statistics (marginal.betas) were calculated</p></dd>


<dt>xTx</dt>
<dd><p>xTx</p></dd>


<dt>z</dt>
<dd><p>z</p></dd>


<dt>ns.each.ethnicity</dt>
<dd><p>For mJAM: A vector of the sizes of each ethnicity dataset in which the summary statistics were calculated.</p></dd>


<dt>initial.model</dt>
<dd><p>An initial model for the covariates under selection can be specified as a vector of 0s and 1s.
If left un-specified the null (empty) model is used.</p></dd>


<dt>trait.variance</dt>
<dd><p>trait.variance</p></dd>


<dt>logistic.likelihood.weights</dt>
<dd><p>An optional vector of likelihood weights for logistic regression. These weights multiply the log-likeihood
contribution of each individual. The order should match the order of rows in the data matrix.</p></dd>


<dt>mrloss.w</dt>
<dd><p>The relative weight of the MR log loss function for pleiotropy vs the log likelihood. Default 0.</p></dd>


<dt>mrloss.function</dt>
<dd><p>Choice of pleiotropic loss function from "steve", "variance" (default variance)</p></dd>


<dt>mrloss.marginal.causal.effects</dt>
<dd><p>mrloss.marginal.causal.effects</p></dd>


<dt>mrloss.marginal.causal.effect.ses</dt>
<dd><p>mrloss.marginal.causal.effect.ses</p></dd>


<dt>mafs.if.independent</dt>
<dd><p>If the SNPs are independent then a reference genotype matrix is not required.
However, it is still necessary to provide SNP MAFs here as a named vector. Doing so will lead to X.ref being
ignored and the SNPs to be modelled as if they are independent. Note that this option does not work with
enumeration.</p></dd>


<dt>debug</dt>
<dd><p>Whether to output extra information (such as final adaption proposal SDs) which might help with debugging
(default is FALSE).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>NA</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Paul Newcombe</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jenn Asimit, Feng Zhou.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

